<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Decrypting Raccoon Protocol ‚Äì Service Human</title>
  <meta name="description" content="A friendly decoy for anyone poking around the wrong door. Raccoon protocol engaged." />

  <!-- Site-wide styles (theme variables, etc.) -->
  <link rel="stylesheet" href="/style.css" />

  <style>
    /* Full-screen dark console vibe */
    html, body {
      margin: 0;
      height: 100%;
    }
    body {
      display: flex;
      align-items: center;
      justify-content: center;
      background: radial-gradient(circle at top, #020617 0, #020617 30%, #020617 55%, #020617 100%);
      color: #e5f2ff;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Inter", sans-serif;
    }

    .wrap {
      max-width: 640px;
      width: 100%;
      padding: 24px;
    }

    .terminal {
      background: rgba(15, 23, 42, 0.96);
      border-radius: 16px;
      box-shadow: 0 24px 60px rgba(15, 23, 42, 0.9);
      overflow: hidden;
      border: 1px solid rgba(56,189,248,0.25);
    }

    .terminal-header {
      padding: 10px 14px;
      background: linear-gradient(90deg, #020617, #0f172a);
      border-bottom: 1px solid rgba(56,189,248,0.25);
      font-size: 13px;
      letter-spacing: .08em;
      text-transform: uppercase;
      color: rgba(148, 163, 184, 0.9);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: #22c55e;
      box-shadow: 0 0 12px rgba(34, 197, 94, 0.8);
    }

    pre#log {
      margin: 0;
      padding: 16px 18px 18px;
      background: radial-gradient(circle at top left, #0b1120 0, #020617 60%);
      font-family: "SF Mono", Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 13px;
      line-height: 1.45;
      color: #bbf7d0;
      white-space: pre-wrap;
      min-height: 160px;
    }

    .cursor {
      display: inline-block;
      width: 8px;
      background: #22c55e;
      margin-left: 2px;
      animation: blink 1s steps(1, start) infinite;
    }

    @keyframes blink {
      50% { opacity: 0; }
    }

    .raccoon {
      margin-top: 18px;
      text-align: center;
      opacity: 0;
      transform: translateY(10px);
      transition: opacity .5s ease, transform .5s ease;
      font-size: 15px;
      color: #e5f2ff;
    }

    .raccoon-emoji {
      font-size: 40px;
      display: block;
      margin-bottom: 4px;
    }

    body.show-raccoon .raccoon {
      opacity: 1;
      transform: translateY(0);
    }

    .raccoon small {
      display: block;
      margin-top: 4px;
      color: #94a3b8;
      font-size: 13px;
    }

    @media (max-width: 520px) {
      .wrap {
        padding: 18px;
      }
      pre#log {
        font-size: 12px;
      }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="terminal">
      <div class="terminal-header">
        <span class="dot"></span>
        Service Human ‚Ä¢ Raccoon Shield Console
      </div>
      <pre id="log"></pre>
    </div>

    <div class="raccoon" id="raccoon">
      <span class="raccoon-emoji">ü¶ùüëë</span>
      <div>Access granted: Raccoon protocol online.</div>
      <small>Decrypting GIF‚Ä¶ then redirecting you to the full story.</small>
    </div>
  </div>

  <script>
    // Lightweight click log (same idea as before)
    try {
      fetch("/api/log-click", {
        method: "POST",
        mode: "no-cors",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          event: "hacker_click",
          time: new Date().toISOString()
        })
      });
    } catch (e) {
      // fail silently ‚Äì this is just a fun trap
    }

    const logEl = document.getElementById("log");
    const bodyEl = document.body;

    const lines = [
      "[  INIT  ]  Booting Service Human shield...",
      "[  SCAN  ]  Probing /donate endpoint for weaknesses...",
      "[  INFO  ]  100% of funds go to humans, 0% to exec toys.",
      "[  CHECK ]  Looking for F-rated exploit flag...",
      "[  ALERT ]  Nonprofit is verified. No loot here.",
      "[  ROUTE ]  Diverting you to the raccoon vault..."
    ];

    function appendLine(text) {
      logEl.textContent += text + "\n";
    }

    async function runConsole() {
      appendLine("servicehumaninc.org :: Raccoon Gateway v1.0");
      appendLine("--------------------------------------------------");

      for (let i = 0; i < lines.length; i++) {
        await new Promise(r => setTimeout(r, 500 + i * 80));
        appendLine(lines[i]);
      }

      // Show raccoon "payload"
      bodyEl.classList.add("show-raccoon");

      appendLine("\n[  OPEN  ]  Loading raccoon-king.gif ‚Ä¶");
      appendLine("[  NOTE  ]  Relax. This is a charity, not a crypto vault.");
      appendLine("[  NEXT  ]  Redirecting to /hack.html");

      // Give them a beat to read, then send to the story page
      setTimeout(() => {
        window.location.href = "/hack.html";
      }, 2600);
    }

    // Tiny blinking cursor
    function startCursor() {
      const span = document.createElement("span");
      span.className = "cursor";
      logEl.appendChild(span);
    }

    runConsole();
    startCursor();
  </script>

  <!-- Theme script (safe even without a visible toggle) -->
  <script src="/js/theme.js"></script>
</body>
</html>